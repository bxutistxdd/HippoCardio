<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Hippocardio - Contraseña Actualizada</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    
    <style>
        /* Colores y Estilos de Hippocardio */
        .bg-hippo-blue { background-color: #004d40; }
        .text-hippo-red { color: #d40000 !important; }
        .btn-hippo-red { background-color: #d40000; color: white; }
        .btn-hippo-red:hover { background-color: #a30000; }
        
        /* Estilo para pantalla completa centrada */
        body {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
        }
        
        /* Contenedor principal centrado */
        .success-container {
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }
        
        /* Animación para el icono de éxito */
        @keyframes successAnimation {
            0% { 
                transform: scale(0.8); 
                opacity: 0;
            }
            50% { 
                transform: scale(1.1); 
            }
            100% { 
                transform: scale(1); 
                opacity: 1;
            }
        }
        
        .success-icon {
            animation: successAnimation 0.8s ease-out;
        }
        
        /* Animación para el checkmark */
        .checkmark-circle {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: #d4edda;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
        }
        
        /* Estilo para el mensaje de éxito */
        .success-message {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #155724;
        }
        
        /* Efecto de confeti sutil */
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #28a745;
            opacity: 0.3;
            border-radius: 50%;
            z-index: -1;
        }
    </style>
</head>
<body>
    <div class="success-container">
        <div class="card shadow-lg border-0" style="max-width: 500px; width: 100%;">
            
            <div class="card-header bg-white text-center pt-4 border-bottom-0">
                <img src="/images/Hippocardio.png" alt="Logo Hippocardio" height="50" class="mb-3">
                <h2 class="fw-bold mb-0 text-hippo-blue">Contraseña Actualizada</h2>
                <p class="text-muted mt-2">Operación completada exitosamente</p>
            </div>
            
            <div class="card-body p-4 text-center">
                
                <!-- Icono de éxito con animación -->
                <div class="checkmark-circle">
                    <i class="bi bi-check-lg text-success success-icon" 
                       style="font-size: 3rem;"></i>
                </div>
                
                <!-- Mensaje principal -->
                <h2 class="fw-bold mb-3 text-success">
                    <i class="bi bi-shield-check me-2"></i>
                    ¡Tu contraseña se actualizó exitosamente!
                </h2>
                
                <!-- Descripción del éxito -->
                <div class="success-message mb-4">
                    <p class="mb-3">
                        Tu contraseña ha sido cambiada con éxito. 
                        Tu cuenta ahora está protegida con la nueva contraseña.
                    </p>
                    <p class="mb-0 fw-medium">
                        Ya puedes iniciar sesión con tus nuevas credenciales.
                    </p>
                </div>
                
                <!-- Línea divisoria decorativa -->
                <div class="d-flex align-items-center my-4">
                    <hr class="flex-grow-1">
                    <span class="px-3 text-muted">Acciones disponibles</span>
                    <hr class="flex-grow-1">
                </div>
                
                <!-- Opciones de acción -->
                <div class="d-grid gap-3 mt-4">
                    <!-- Botón principal: Iniciar sesión -->
                    <a href="/login" class="btn btn-hippo-red fw-bold py-3">
                        <i class="bi bi-box-arrow-in-right me-2"></i> Iniciar Sesión
                    </a>
                    
                    <!-- Botón secundario: Volver al inicio -->
                    <a href="/" class="btn btn-outline-success py-2">
                        <i class="bi bi-house-door me-2"></i> Volver al Inicio Principal
                    </a>
                </div>
                
                <!-- Recordatorio de seguridad -->
                <div class="alert alert-light border mt-4 text-start" role="alert">
                    <div class="d-flex">
                        <i class="bi bi-lightbulb text-warning me-3" style="font-size: 1.5rem;"></i>
                        <div>
                            <h6 class="alert-heading mb-2">
                                <i class="bi bi-shield-lock me-1"></i> Consejo de seguridad
                            </h6>
                            <small class="text-muted">
                                • No compartas tu contraseña con nadie<br>
                                • Utiliza una contraseña única y segura<br>
                                • Cierra sesión en dispositivos públicos<br>
                                • Activa la autenticación en dos pasos si está disponible
                            </small>
                        </div>
                    </div>
                </div>
                
                <!-- Información de soporte -->
                <div class="mt-3">
                    <small class="text-muted">
                        ¿Tienes problemas para iniciar sesión? 
                        <a href="/soporte" class="text-decoration-none text-hippo-blue fw-bold">
                            Contactar soporte
                        </a>
                    </small>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Efecto de confeti sutil
        document.addEventListener('DOMContentLoaded', function() {
            const container = document.querySelector('.success-container');
            const colors = ['#28a745', '#20c997', '#198754', '#0dcaf0'];
            
            // Crear partículas de confeti
            for (let i = 0; i < 15; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                
                // Posición aleatoria
                const left = Math.random() * 100;
                const top = Math.random() * 100;
                
                // Tamaño y color aleatorio
                const size = Math.random() * 8 + 4;
                const color = colors[Math.floor(Math.random() * colors.length)];
                
                // Aplicar estilos
                confetti.style.left = `${left}%`;
                confetti.style.top = `${top}%`;
                confetti.style.width = `${size}px`;
                confetti.style.height = `${size}px`;
                confetti.style.backgroundColor = color;
                
                // Añadir animación de caída
                const duration = Math.random() * 3 + 2;
                confetti.style.animation = `fall ${duration}s linear infinite`;
                
                // Insertar en el contenedor
                container.appendChild(confetti);
            }
            
            // Añadir estilo CSS para la animación de caída
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fall {
                    0% {
                        transform: translateY(-100px) rotate(0deg);
                        opacity: 0.5;
                    }
                    100% {
                        transform: translateY(100vh) rotate(360deg);
                        opacity: 0;
                    }
                }
            `;
            document.head.appendChild(style);
            
            // Redirigir automáticamente después de 15 segundos
            setTimeout(function() {
                const redirectBtn = document.querySelector('a[href="/login"]');
                if (redirectBtn) {
                    console.log('Redirigiendo automáticamente a login...');
                    // Opcional: descomentar para redirección automática
                    // window.location.href = '/login';
                }
            }, 15000);
        });
    </script>
</body>
</html>